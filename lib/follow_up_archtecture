lib/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ config/          # Theme, constants, localization
â”‚   â”œâ”€â”€ network/         # API clients, interceptors
â”‚   â”œâ”€â”€ utils/           # Helpers, validators, extensions
â”‚   â””â”€â”€ services/        # Auth, Firebase, etc.
â”‚
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ models/          # Model classes (User, Agency, Package, etc.)
â”‚   â”œâ”€â”€ repositories/    # Abstractions and implementations
â”‚   â””â”€â”€ datasources/     # Remote & local data sources
â”‚
â”œâ”€â”€ domain/
â”‚   â”œâ”€â”€ entities/        # Pure business logic models
â”‚   â””â”€â”€ usecases/        # Application-specific business rules
â”‚
â”œâ”€â”€ presentation/
â”‚   â”œâ”€â”€ cubits/          # Cubits/States (organized by feature)
â”‚   â”œâ”€â”€ views/           # Screens (UI only)
â”‚   â”œâ”€â”€ widgets/         # Shared widgets
â”‚   â””â”€â”€ routes/          # Navigation and route handling
â”‚
â””â”€â”€ main.dart
Future<bool> callMistral({
    required String prompt,
    required String language,
    required String tone,
    required String length,
  }) async {
    // ğŸ“ Strong instruction for AI
    final instruction = """
You are an AI email writing assistant.

Your task:
- Rewrite the userâ€™s draft into a full, natural, professional email.
- Always write the ENTIRE email in the $language language (do not use English).
- Use a $tone tone.
- Length should be $length (Short â‰ˆ 50 words, Medium â‰ˆ 100 words, Long â‰ˆ 200 words).

Userâ€™s draft:
"$prompt"
""";


    // ğŸš Map length â†’ tokens
    final int maxTokens = length.toLowerCase() == "short"
        ? 75
        : length.toLowerCase() == "medium"
        ? 150
        : 300;

    final body = {
      "model": "mistral-small-latest",
      "messages": [
        {"role": "system", "content": "You are a helpful email assistant."},
        {"role": "user", "content": instruction},
      ],
      "temperature": 0.7,
      "max_tokens": maxTokens,
    };

    isLoading.value = true;
    responseText.value = "â³ Thinking...";

    try {
      final data = await apiClient.post(ApiRoutes.chatCompletions, body);
      responseText.value = data["choices"][0]["message"]["content"];
      log("âœ… Success: ${responseText.value}");
      return true;
    } catch (e) {
      responseText.value = "Exception: $e";
      log("âŒ Error: $e");
      return false;
    } finally {
      isLoading.value = false;
    }
  }